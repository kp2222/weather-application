
class WeatherService
  include HTTParty

  base_uri 'api.openweathermap.org'

  def search (city, country)
    response = self.class.get("/data/2.5/weather", query(q: "#{city},#{country}"))
    if response.success?
      Weather.new(location: "some")
    else
      raise "open api request failed"
    end
  end


  private

  def query(params)
    { query: {
        appid: Rails.
     }}
  end
 
end
